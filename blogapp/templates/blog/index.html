
{% extends 'base.html' %}

<!DOCTYPE html>
<html lang="en">
{% block head %} 
<title>Blog post list</title>
<meta name="description" content="Blog post list">

{% endblock %}
{% load thumbnail %}


<body>
    {% block body %}
    {% load static %} 
   


    <section>
        <div class="row">
            <div class="col-md-8">
                {% for post in page_obj %}
                <article class="blog-post">
                    <div class="blog-post-image">
                        {% if post.image %}
                        {% thumbnail post.image "800x400" crop="center" quality=99 as im %}
                       <a href="{{ post.get_absolute_url }}"><img src="{{ im.url }}"width="{{ im.width }}" height="{{ im.height }}" alt="media"></a>
                       {% endthumbnail %}

                        {% endif %}
                    </div>
                    <div class="blog-post-body">
                        <h2><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></h2>
                        <div class="post-meta"><span>by <a href="{% url 'blog:aboutme' %}">{{ post.author }}</a></span>/<span><i class="fa fa-clock-o"></i>{{ post.created }}</span>/<span><a href="#">{{ post.read_time }} minutes</a></span>
                            <div style="display:flex">
                                {% for tag in post.tags.all %}
                                <a href="{% url 'blog:tagged' tag.slug %}" class="mr-1 badge badge-info">#{{ tag }}</a>
                                {% endfor %}
                            </div>
                    </div>
                        <p>{{ post.body|safe|truncatewords_html:20 }}</p>
                        <div class="read-more"><a href="{{ post.get_absolute_url }}">Continue Reading</a></div>
                    </div>
                </article>
                {% endfor %}

                

                  {% if page_obj.has_other_pages %}
  <ul class="pagination">
    {% if page_obj.has_previous %}
      <li> <a class="page-link" href="?page={{ users.previous_page_number }}" tabindex="-1">Previous</a></li>
    {% else %}
      <li class="disabled"><span>&laquo;</span></li>
    {% endif %}
    {% for i in page_obj.paginator.page_range %}
      {% if page_obj.number == i %}
        <li class="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
      {% else %}
        <li><a href="?page={{ i }}">{{ i }}</a></li>
      {% endif %}
    {% endfor %}
    {% if page_obj.has_next %}
      <li><a class="page-link" href="?page={{ page_obj.next_page_number }}">Next</a></li>
    {% else %}
      <li class="disabled"><span>&raquo;</span></li>
    {% endif %}
  </ul>
{% endif %}







            </div>
            
            <div class="col-md-4 sidebar-gutter">
                <aside>
                <!-- sidebar-widget -->
                <div class="sidebar-widget">
                    <h3 class="sidebar-title">About Me</h3>
                    <div class="widget-container widget-about">
                        <a href="{% url 'blog:aboutme' %}"><img src="{% static 'images/author.jpg' %}" alt=""></a>
                        <h4>Vincent Obodoma</h4>
                        <div class="author-title">Fullstack Developer</div>
                        <p><a href="{% url 'blog:aboutme' %}">{{ about_me|safe|truncatewords_html:20 }}</a></p>
                    </div>
                </div>

                <!-- sidebar-widget -->
                
                <div class="sidebar-widget">
                    <h3 class="sidebar-title">Featured Posts</h3>
                    <div class="widget-container">
                        {% for post in posts %}
                        {% if post.featured_post is True %}

                        <article class="widget-post">
                            <div class="post-image">
                                {% if post.image %}
                                <a href="{{ post.get_absolute_url }}"><img src="{{ post.image.url }}" alt=""></a>
                                {% endif %}
                            </div>
                            <div class="post-body">
                                <h2><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></h2>
                                <div class="post-meta">
                                    <span><i class="fa fa-clock-o"></i>{{ post.created }}</span> 
                                </div>
                            </div>
                        </article>
                        {% endif %}
                        {% endfor %}
                        
                    </div>
                </div>
                <!-- sidebar-widget -->
                <div class="sidebar-widget">
                    <h3 class="sidebar-title">Socials</h3>
                    <div class="widget-container">
                        <div class="widget-socials">
                           <a href="https://web.facebook.com/vincent.obodoma/"><i class="fa fa-facebook"></i></a>
                            <a href="https://twitter.com/vingeophysicist"><i class="fa fa-twitter"></i></a>
                            <a href="https://www.linkedin.com/in/vincent-obodoma-3353b9114/"><i class="fa fa-linkedin"></i></a>
                             <a href="https://github.com/vingeophysicist"><i class="fa fa-github"></i></a>
                             <a href="https://stackoverflow.com/users/10101331/obodoma-uzondu-vincent"><i class="fa fa-stack-overflow"></i></a>
                            <a href="https://codepen.io/vingeophysicist"><i class="fa fa-codepen"></i></a>
                        </div>
                    </div>
                </div>
                <!-- sidebar-widget -->
               
               
               
                <div class="sidebar-widget">
                    <h3 class="sidebar-title">Common Tags</h3>
                    <div class="widget-container">


                   
                    <p> 
                        {% for mt in common_tags %}
                            <p class="badge badge-success">{{mt}}</p>
                        {% endfor %}
                        </p>
                    </div>


                </div>

                 <div class="sidebar-widget">
                    <h3 class="sidebar-title">Categories</h3>
                    <div class="widget-container">
                        <ul>
                            {% for categories in category %}
                            <li><a href="{% url 'blog:category_detail_views' categories.category_slug %}">{{ categories.name }}</a> ({{ categories.posts_count }}) </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>




                 <!-- sidebar-widget -->
                 <div class="sidebar-widget">
                    <h3 class="sidebar-title">Subscribe and get my latest post</h3>
                       <div class="widget-container widget-about">
                           <form id = "subscribe" class="signup-form form-inline justify-content-center pt-3" form method = 'POST'>
                               {% csrf_token %}
                               <div class="form-group">
                               <label class="sr-only" for="semail">Your email</label>
                               <input type="email" id="email_id" name="email_id" class="form-control mr-md-1 semail" placeholder="Enter email">
                              </div>
                              <button type="submit" value = "Subscribe" id = "email_submit" class="btn btn-primary">Subscribe</button>
                            </form>
                       </div>
                </div>
                </div>

                
                </aside>
            </div>
            
    
       </div>
    </section>

    

   
{% endblock %}

    
</body>
</html>
